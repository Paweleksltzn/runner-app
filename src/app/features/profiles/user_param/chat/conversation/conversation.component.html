<ion-content>
  <ion-toolbar class="header__bar">
    <ion-buttons slot="start">
        <ion-back-button defaultHref="chat" (click)="dismissModal()"></ion-back-button>
    </ion-buttons>
    <ion-title>{{ targetProfile.name }} {{ targetProfile.surname }}</ion-title>
  </ion-toolbar>
  <div class="messages__container">
    <div *ngFor="let message of conversation.messages;">
      <ion-grid>
        <ion-row>
          <ion-col size="12"
          [ngClass]="{'col-sended': !(message.author === targetProfile._id || (message.author && message.author._id === targetProfile._id))}"> 
            <div class="message-received" 
            [ngClass]="{'message-sended': !(message.author === targetProfile._id || (message.author && message.author._id === targetProfile._id))}"
            >
              {{message.content}}
            </div>
          </ion-col>
      </ion-row>
     </ion-grid>
    </div>
  </div>
  <div class="chat-form">
    <textarea class="msg-input" placeholder="Wpisz wiadomość..." type="text" [(ngModel)]="currentMessage"></textarea>
    <div class="send">
      <ion-icon name="send" (click)="sendMessage()"></ion-icon>
    </div>
  </div>
</ion-content>
